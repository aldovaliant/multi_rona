<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sistem Informasi Penjualan dan Inventaris Multirona</title>

    <style>
      /* td {
        font-family: Hero;
      } */
      .fa-edit {
        color: rgb(0, 47, 255);
      }
      .fa-trash-alt {
        color: red;
      }
      .btn-aksi-stok {
        border: 1px solid;
        border-radius: 5px;
        padding: 5px;
      }
    </style>
  </head>
  <body>
    <div class="container" id="judul">
      <h2>Data Pengguna</h2>
      <hr />
    </div>

    <div class="container">
      <h3>List Pengguna</h3>
      <p>
        Tampilkan
        <select name="kode" id="">
          <option value="5">5</option>
          <option value="20">20</option>
          <option value="50">50</option>
        </select>
        Barang
      </p>
      <table id="list" class="" style="text-align: center;">
        <!-- <colgroup> -->
          <!-- <col span="1" style="width: 5%;" />
          <col span="1" style="width: 20%;" />
          <col span="1" style="width: 35%;" />
          <col span="1" style="width: 10%;" />
          <col span="1" style="width: 15%;" />
          <col span="1" style="width: 15%;" />
        </colgroup> -->
        <!-- <thead> -->
          <tr>
            <th>No</th>
            <th>Nama</th>
            <th>Username</th>
            <th>Jabatan</th>
            <!-- <th>Aksi</th> -->
          </tr>
        <!-- </thead> -->
        <!-- <tbody id="list"> -->
          <!-- <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
              <button class="btn-aksi-stok"><i class="fa fa-edit"> edit</i></button> &nbsp;
              <button class="btn-aksi-stok"><i class="fa fa-trash-alt"> hapus</i></button>
            </td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
              <button class="btn-aksi-stok"><i class="fa fa-edit"> edit</i></button> &nbsp;
              <button class="btn-aksi-stok"><i class="fa fa-trash-alt"> hapus</i></button>
            </td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
              <button class="btn-aksi-stok"><i class="fa fa-edit"> edit</i></button> &nbsp;
              <button class="btn-aksi-stok"><i class="fa fa-trash-alt"> hapus</i></button>
            </td>
          </tr> -->
        <!-- </tbody> -->
      </table>
            <button onclick="asd()">Muncul</button>

    </div>
    <script src="./renderer.js"></script>
    <script>
      //   var mysql = require("mysql");
      //   var connection = mysql.createConnection({
      //   host: "localhost",
      //   user: "root",
      //   password: "",
      //   database: "multi_rona"
      // });

      // function login(){
      //   // let username = document.getElementById('username').value;
      //   // let password = document.getElementById('password').value;
      //   // let arr = [];
      //   // arr.push(username);
      //   // arr.push(password);
      //   this.listPengguna();
      // }

      function createConnection2() {
        connection.connect(err => {
          if (err) {
            return console.log(err.stack);
          }

          // document.getElementsByTagName("h1")[0].innerHTML =
          //   "Connection succesfully established";
        });
      }

      function closeConnection2() {
        connection.end(() => {
          // console.log("Connection succesfully closed");
        });
      }

      function execQuery2(param) {
        if (param === 1) {
          // CREATE
          $queryString =
            'INSERT INTO `user`(`id`, `nama`, `username`, `password`, `id_jenis`) VALUES (null,'+arr[0]+','+arr[1]+','+arr[2]+','+arr[3]+')';
        } else if (param === 2) {
          // READ
          $queryString = "SELECT * FROM `user`";
        } else if (param === 3) {
          //UPDATE
          $queryString =
            'UPDATE `user` SET `nama`="update",`username`="update",`password`="update",`id_jenis`=2 WHERE `id`=4';
        } else {
          //DELETE
          $queryString = "DELETE FROM `user` WHERE `id`=4";
        }

        connection.query($queryString, function(error, results, fields) {
          if (error) throw error;
          console.log(results);
          alert(results);
        //   if(results[0].id != null){
            let arr = JSON.parse(JSON.stringify(results));
            for (let i = 0; i < arr.length; i++) {
              document.getElementById("list").innerHTML +=
                `<tr>
                <td>` +
                arr[i].id +
                `</td>` +
                `<td>` +
                arr[i].nama +
                `</td>` +
                `<td>` +
                arr[i].username +
                `</td>` +
                `<td>` +
                arr[i].password +
                `</td>` +
                `<td>` +
                arr[i].id_jenis +
                `</td>` +
                `</tr>`;
              document.getElementById("table").style.display = "block";
            }
            // }
        });
      }
      
      // function createData(arr) {
      //   this.createConnection();
      //   this.execQuery(1,arr);
      //   this.closeConnection();
      // }
      function listPengguna() {
        console.log("masuk");
        this.createConnection();
        this.execQuery(2);
        this.closeConnection();
      }
      // function updateData(arr) {
      //   this.createConnection();
      //   this.execQuery(3,arr);
      //   this.closeConnection();
      // }
      // function deleteData(arr) {
      //   this.createConnection();
      //   this.execQuery(4,arr);
      //   this.closeConnection();
      // }
    </script>

  </body>
</html>
